!function(){var e={117:function(){class e{constructor(){this.initMortgageCalculator(),this.initOpenHouseActions(),this.initMarketInfo()}initMortgageCalculator(){const e=document.querySelector(".mortgage-calculator");if(!e)return;const t={loanAmount:e.querySelector("#loan-amount"),downPayment:e.querySelector("#down-payment"),interestRate:e.querySelector("#interest-rate"),loanTerm:e.querySelector("#loan-term")},n=e.querySelector("#monthly-payment"),o=()=>{const e=parseFloat(t.loanAmount.value)||0,o=parseFloat(t.downPayment.value)||0,a=parseFloat(t.interestRate.value)||0,s=parseInt(t.loanTerm.value)||30;if(e<=0||a<=0)return void(n.textContent="$0");const r=e-e*(o/100),i=a/100/12,l=12*s;let c=0;c=i>0?r*(i*Math.pow(1+i,l))/(Math.pow(1+i,l)-1):r/l,n.textContent=this.formatCurrency(c)};Object.values(t).forEach(e=>{e&&(e.addEventListener("input",o),e.addEventListener("change",o))}),o()}initOpenHouseActions(){document.addEventListener("click",e=>{if(e.target.matches('[data-action="rsvp-open-house"]')||e.target.closest('[data-action="rsvp-open-house"]')){const t=e.target.matches('[data-action="rsvp-open-house"]')?e.target:e.target.closest('[data-action="rsvp-open-house"]'),n=t.dataset.openHouseId;this.handleRSVP(n,t)}}),document.addEventListener("click",e=>{if(e.target.matches('a[href*="virtual"]')||e.target.closest('a[href*="virtual"]')){const t=e.target.matches('a[href*="virtual"]')?e.target:e.target.closest('a[href*="virtual"]');this.trackEvent("virtual_tour_click",{url:t.href,source:"open_house_sidebar"})}})}initMarketInfo(){const e=document.querySelector(".days-on-market");e&&e.querySelectorAll(".stat-item").forEach(e=>{const t=e.querySelector(".stat-label"),n=e.querySelector(".stat-value");t&&n&&(e.addEventListener("mouseenter",()=>{this.showMarketTooltip(e,t.textContent,n.textContent)}),e.addEventListener("mouseleave",()=>{this.hideMarketTooltip()}))})}async handleRSVP(e,t){if(!e)return void console.error("No open house ID provided");const n=t.innerHTML;t.disabled=!0,t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Processing...';try{if(!document.body.classList.contains("logged-in"))return void this.showLoginPrompt("rsvp");this.showRSVPModal(e)}catch(e){console.error("RSVP error:",e),this.showError("Sorry, there was an error processing your RSVP. Please try again.")}finally{t.disabled=!1,t.innerHTML=n}}showRSVPModal(e){const t=`\n            <div class="hph-modal open-house-rsvp-modal" id="rsvp-modal">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h3>RSVP for Open House</h3>\n                        <button class="modal-close" aria-label="Close">&times;</button>\n                    </div>\n                    <div class="modal-body">\n                        <form id="rsvp-form" data-open-house-id="${e}">\n                            <div class="form-group">\n                                <label for="rsvp-name">Full Name *</label>\n                                <input type="text" id="rsvp-name" name="name" required>\n                            </div>\n                            <div class="form-group">\n                                <label for="rsvp-email">Email *</label>\n                                <input type="email" id="rsvp-email" name="email" required>\n                            </div>\n                            <div class="form-group">\n                                <label for="rsvp-phone">Phone</label>\n                                <input type="tel" id="rsvp-phone" name="phone">\n                            </div>\n                            <div class="form-group">\n                                <label for="rsvp-attendees">Number of Attendees</label>\n                                <select id="rsvp-attendees" name="attendees">\n                                    <option value="1">1 person</option>\n                                    <option value="2">2 people</option>\n                                    <option value="3">3 people</option>\n                                    <option value="4">4 people</option>\n                                    <option value="5">5+ people</option>\n                                </select>\n                            </div>\n                            <div class="form-group">\n                                <label for="rsvp-notes">Special Notes</label>\n                                <textarea id="rsvp-notes" name="notes" rows="3" placeholder="Any special requirements or questions?"></textarea>\n                            </div>\n                            <div class="form-actions">\n                                <button type="button" class="btn btn-secondary" id="cancel-rsvp">Cancel</button>\n                                <button type="submit" class="btn btn-primary">Confirm RSVP</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        `;document.body.insertAdjacentHTML("beforeend",t);const n=document.getElementById("rsvp-modal");n.style.display="flex",this.bindRSVPModalEvents(n)}bindRSVPModalEvents(e){const t=e.querySelector(".modal-close"),n=e.querySelector("#cancel-rsvp"),o=e.querySelector("#rsvp-form");[t,n].forEach(t=>{t&&t.addEventListener("click",()=>{e.style.display="none",document.body.removeChild(e)})}),e.addEventListener("click",t=>{t.target===e&&(e.style.display="none",document.body.removeChild(e))}),o&&o.addEventListener("submit",async t=>{t.preventDefault(),await this.submitRSVP(o,e)})}async submitRSVP(e,t){const n=new FormData(e),o=e.dataset.openHouseId,a=e.querySelector('button[type="submit"]'),s=a.innerHTML;a.disabled=!0,a.innerHTML='<i class="fas fa-spinner fa-spin"></i> Submitting...';try{const e=await fetch(hph_ajax.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"hph_rsvp_open_house",nonce:hph_ajax.nonce,open_house_id:o,name:n.get("name"),email:n.get("email"),phone:n.get("phone"),attendees:n.get("attendees"),notes:n.get("notes")})}),a=await e.json();if(!a.success)throw new Error(a.data||"RSVP submission failed");{this.showSuccess("RSVP confirmed! You will receive a confirmation email shortly."),t.style.display="none",document.body.removeChild(t);const e=document.querySelector(`[data-open-house-id="${o}"]`);e&&(e.innerHTML='<i class="fas fa-check"></i> RSVP Confirmed',e.classList.add("rsvp-confirmed"),e.disabled=!0)}}catch(e){console.error("RSVP submission error:",e),this.showError("Sorry, there was an error submitting your RSVP. Please try again.")}finally{a.disabled=!1,a.innerHTML=s}}showMarketTooltip(e,t,n){let o="";if(t.includes("Days on Market")){const e=parseInt(n);o=e<30?"This property is relatively new to the market":e<90?"This property has been on the market for a moderate time":"This property has been on the market for an extended period"}else t.includes("Listed Date")&&(o="The date this property was first listed for sale");o&&this.showTooltip(e,o)}showLoginPrompt(e){confirm(("rsvp"===e?"Please log in to RSVP for open houses.":"Please log in to continue.")+" Would you like to log in now?")&&(window.location.href="/wp-login.php?redirect_to="+encodeURIComponent(window.location.href))}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}showTooltip(e,t){const n=document.createElement("div");n.className="hph-tooltip",n.textContent=t,n.style.cssText="\n            position: absolute;\n            background: #333;\n            color: white;\n            padding: 8px 12px;\n            border-radius: 4px;\n            font-size: 14px;\n            z-index: 1000;\n            max-width: 200px;\n            pointer-events: none;\n        ",document.body.appendChild(n);const o=e.getBoundingClientRect();n.style.left=o.left+"px",n.style.top=o.bottom+5+"px",this.currentTooltip=n}hideMarketTooltip(){this.currentTooltip&&(document.body.removeChild(this.currentTooltip),this.currentTooltip=null)}showSuccess(e){this.showNotification(e,"success")}showError(e){this.showNotification(e,"error")}showNotification(e,t){const n=document.createElement("div");n.className=`hph-notification ${t}`,n.textContent=e,n.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 16px 20px;\n            border-radius: 4px;\n            z-index: 9999;\n            max-width: 300px;\n            font-weight: 500;\n            ${"success"===t?"background: #d4edda; color: #155724; border: 1px solid #c3e6cb;":""}\n            ${"error"===t?"background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb;":""}\n        `,document.body.appendChild(n),setTimeout(()=>{n.style.opacity="0",setTimeout(()=>{document.body.contains(n)&&document.body.removeChild(n)},300)},5e3)}trackEvent(e,t={}){"undefined"!=typeof gtag&&gtag("event",e,t),console.log("Event tracked:",e,t)}}document.addEventListener("DOMContentLoaded",()=>{new e}),window.ListingSidebar=e}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}!function(){"use strict";class e{constructor(e){this.hero=e,this.slides=e.querySelectorAll(".hph-hero__slide"),this.dots=e.querySelectorAll(".hph-hero__dot"),this.currentSlide=0,this.isPlaying=!0,this.interval=null,this.intervalDuration=parseInt(e.dataset.interval)||6e3,this.photoCounter=e.querySelector(".hph-hero__current-photo"),this.progressBar=e.querySelector(".hph-hero__progress-bar"),this.playPauseBtn=e.querySelector('[data-action="pause"]'),this.init()}init(){this.bindEvents(),this.slides.length>1&&(this.startAutoplay(),this.updateProgress()),this.updateAccessibility(),this.initPropertyStats(),this.hero.heroCarousel=this}bindEvents(){const e=this.hero.querySelector('[data-action="prev"]'),t=this.hero.querySelector('[data-action="next"]');e&&e.addEventListener("click",()=>this.previousSlide()),t&&t.addEventListener("click",()=>this.nextSlide()),this.playPauseBtn&&this.playPauseBtn.addEventListener("click",()=>this.togglePlayPause()),this.dots.forEach((e,t)=>{e.addEventListener("click",()=>this.goToSlide(t))}),this.hero.addEventListener("keydown",e=>this.handleKeydown(e)),this.hero.addEventListener("mouseenter",()=>this.pauseAutoplay()),this.hero.addEventListener("mouseleave",()=>{this.isPlaying&&this.startAutoplay()}),this.addTouchSupport(),this.bindCTAEvents(),this.bindFavoriteEvents()}nextSlide(){this.goToSlide((this.currentSlide+1)%this.slides.length)}previousSlide(){this.goToSlide((this.currentSlide-1+this.slides.length)%this.slides.length)}goToSlide(e){e!==this.currentSlide&&(this.slides[this.currentSlide]&&this.slides[this.currentSlide].classList.remove("hph-hero__slide--active"),this.dots[this.currentSlide]&&this.dots[this.currentSlide].classList.remove("hph-hero__dot--active"),this.currentSlide=e,this.slides[this.currentSlide]&&this.slides[this.currentSlide].classList.add("hph-hero__slide--active"),this.dots[this.currentSlide]&&this.dots[this.currentSlide].classList.add("hph-hero__dot--active"),this.updatePhotoCounter(),this.updateAccessibility(),this.resetProgress(),this.announceSlideChange())}startAutoplay(){this.slides.length<=1||(this.pauseAutoplay(),this.interval=setInterval(()=>{this.nextSlide()},this.intervalDuration),this.updatePlayPauseButton(!0))}pauseAutoplay(){this.interval&&(clearInterval(this.interval),this.interval=null)}togglePlayPause(){this.isPlaying=!this.isPlaying,this.isPlaying?this.startAutoplay():this.pauseAutoplay(),this.updatePlayPauseButton(this.isPlaying)}updatePlayPauseButton(e){if(!this.playPauseBtn)return;const t=this.playPauseBtn.querySelector("i"),n=e?"Pause slideshow":"Play slideshow";this.playPauseBtn.dataset.playing=e,this.playPauseBtn.setAttribute("aria-label",n),t&&(t.className=e?"fas fa-pause hph-icon":"fas fa-play hph-icon")}updatePhotoCounter(){this.photoCounter&&(this.photoCounter.textContent=this.currentSlide+1)}updateProgress(){if(!this.progressBar||this.slides.length<=1)return;let e=0;const t=setInterval(()=>{e+=100/(this.intervalDuration/100),(e>=100||!this.isPlaying)&&(e=100,clearInterval(t)),this.progressBar.style.width=e+"%",this.progressBar.dataset.progress=Math.round(e)},100)}resetProgress(){this.progressBar&&(this.progressBar.style.width="0%",this.progressBar.dataset.progress="0"),this.updateProgress()}updateAccessibility(){this.slides.forEach((e,t)=>{const n=t===this.currentSlide;e.setAttribute("aria-hidden",!n),e.setAttribute("tabindex",n?"0":"-1")}),this.dots.forEach((e,t)=>{const n=t===this.currentSlide;e.setAttribute("aria-selected",n),e.setAttribute("tabindex",n?"0":"-1")})}announceSlideChange(){let e=document.getElementById("hero-live-region");e||(e=document.createElement("div"),e.id="hero-live-region",e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.style.position="absolute",e.style.left="-10000px",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",document.body.appendChild(e)),e.textContent=`Photo ${this.currentSlide+1} of ${this.slides.length}`}handleKeydown(e){switch(e.key){case"ArrowLeft":e.preventDefault(),this.previousSlide();break;case"ArrowRight":e.preventDefault(),this.nextSlide();break;case" ":e.preventDefault(),this.togglePlayPause();break;case"Home":e.preventDefault(),this.goToSlide(0);break;case"End":e.preventDefault(),this.goToSlide(this.slides.length-1)}}addTouchSupport(){let e=0,t=0,n=0,o=0;this.hero.addEventListener("touchstart",n=>{const o=n.changedTouches[0];e=o.pageX,t=o.pageY},{passive:!0}),this.hero.addEventListener("touchend",a=>{const s=a.changedTouches[0];n=s.pageX-e,o=s.pageY-t,Math.abs(n)>=100&&Math.abs(o)<=100&&(n>0?this.previousSlide():this.nextSlide())},{passive:!0})}bindCTAEvents(){const e=this.hero.querySelector('[data-action="schedule-tour"]');e&&e.addEventListener("click",e=>{this.handleScheduleTour(e)});const t=this.hero.querySelector('[data-action="view-gallery"]');t&&t.addEventListener("click",e=>{this.handleViewGallery(e)});const n=this.hero.querySelector('[data-action="share-listing"]');n&&n.addEventListener("click",e=>{this.handleShareListing(e)})}bindFavoriteEvents(){const e=this.hero.querySelector('[data-action="toggle-favorite"]');e&&e.addEventListener("click",e=>{this.handleToggleFavorite(e)})}handleScheduleTour(e){const t=e.currentTarget,n=t.dataset.listingId,o=new CustomEvent("hph:schedule-tour",{detail:{listingId:n,button:t},bubbles:!0});this.hero.dispatchEvent(o),console.log("Schedule tour for listing:",n)}handleViewGallery(e){const t=e.currentTarget,n=t.dataset.photos,o=new CustomEvent("hph:view-gallery",{detail:{photoCount:n,currentSlide:this.currentSlide,button:t},bubbles:!0});this.hero.dispatchEvent(o),console.log("View gallery with",n,"photos, starting at slide",this.currentSlide)}handleShareListing(e){const t=e.currentTarget,n=t.dataset.listingId,o=window.location.href,a=document.title;navigator.share?navigator.share({title:a,text:"Check out this amazing property!",url:o}).then(()=>{console.log("Listing shared successfully"),this.showToast("Listing shared successfully!")}).catch(e=>{console.log("Error sharing listing:",e),this.fallbackShare(o,a)}):this.fallbackShare(o,a);const s=new CustomEvent("hph:share-listing",{detail:{listingId:n,url:o,title:a,button:t},bubbles:!0});this.hero.dispatchEvent(s)}fallbackShare(e,t){navigator.clipboard?navigator.clipboard.writeText(e).then(()=>{this.showToast("Link copied to clipboard!")}).catch(()=>{this.legacyShare(e,t)}):this.legacyShare(e,t)}legacyShare(e,t){const n=document.createElement("input");n.value=e,document.body.appendChild(n),n.select(),n.setSelectionRange(0,99999);try{document.execCommand("copy"),this.showToast("Link copied to clipboard!")}catch(n){this.showShareModal(e,t)}document.body.removeChild(n)}showShareModal(e,t){const n=document.createElement("div");n.className="hph-share-modal",n.innerHTML=`\n            <div class="hph-share-modal__backdrop"></div>\n            <div class="hph-share-modal__content">\n                <h3>Share this listing</h3>\n                <p>Copy this link to share:</p>\n                <input type="text" value="${e}" readonly>\n                <div class="hph-share-modal__actions">\n                    <button class="hph-btn hph-btn--primary" onclick="this.closest('.hph-share-modal').remove()">Close</button>\n                </div>\n            </div>\n        `,n.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: 10000;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        ";const o=n.querySelector(".hph-share-modal__backdrop");o.style.cssText="\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n        ",n.querySelector(".hph-share-modal__content").style.cssText="\n            background: white;\n            padding: 24px;\n            border-radius: 8px;\n            max-width: 400px;\n            width: 90%;\n            position: relative;\n            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);\n        ";const a=n.querySelector("input");a.style.cssText="\n            width: 100%;\n            padding: 8px 12px;\n            border: 1px solid #ddd;\n            border-radius: 4px;\n            margin: 12px 0;\n            font-family: monospace;\n        ",o.addEventListener("click",()=>n.remove()),a.addEventListener("click",()=>a.select()),document.body.appendChild(n),a.focus(),a.select()}async handleToggleFavorite(e){const t=e.currentTarget,n=t.dataset.listingId,o=t.querySelector("i"),a=t.querySelector(".sr-only");if(t.disabled)return;t.disabled=!0;const s=t.classList.contains("is-favorite");t.classList.toggle("is-favorite"),o&&(o.className=s?"far fa-heart hph-icon":"fas fa-heart hph-icon"),a&&(a.textContent=s?"Save":"Saved"),t.setAttribute("aria-label",s?"Add to favorites":"Remove from favorites");try{const e=await fetch(window.hphHero?.ajaxUrl||window.hphAjax?.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"hph_toggle_favorite",listing_id:n,nonce:window.hphHero?.nonce||window.hphAjax?.nonce})}),r=await e.json();if(r.success){const e=s?window.hphHero?.strings?.favoriteRemoved||"Removed from favorites":window.hphHero?.strings?.favoriteAdded||"Added to favorites";this.showToast(e)}else this.revertFavoriteUI(t,o,a,s),console.error("Failed to toggle favorite:",r.data)}catch(e){console.error("Error toggling favorite:",e),this.revertFavoriteUI(t,o,a,s)}t.disabled=!1}revertFavoriteUI(e,t,n,o){e.classList.toggle("is-favorite"),t&&(t.className=o?"fas fa-heart hph-icon":"far fa-heart hph-icon"),n&&(n.textContent=o?"Saved":"Save"),e.setAttribute("aria-label",o?"Remove from favorites":"Add to favorites")}showToast(e,t="success"){const n=document.createElement("div");n.className=`hph-toast hph-toast--${t}`,n.innerHTML=`\n            <i class="fas fa-${"success"===t?"check-circle":"exclamation-triangle"}" aria-hidden="true"></i>\n            <span>${e}</span>\n        `,n.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: var(--hph-color-${"success"===t?"success":"danger"});\n            color: white;\n            padding: 12px 20px;\n            border-radius: 6px;\n            z-index: 10000;\n            opacity: 0;\n            transform: translateX(100%);\n            transition: all 0.3s ease;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n            font-weight: 500;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        `,document.body.appendChild(n),requestAnimationFrame(()=>{n.style.opacity="1",n.style.transform="translateX(0)"}),setTimeout(()=>{n.style.opacity="0",n.style.transform="translateX(100%)",setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},300)},3e3)}initPropertyStats(){this.hero.querySelectorAll(".hph-hero__stat, .hph-quick-fact").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="scale(1.05)",e.style.transition="transform 0.2s ease"}),e.addEventListener("mouseleave",()=>{e.style.transform="scale(1)"});const t=e.querySelector('[data-stat="lot_size"]')||("lot_size"===e.dataset.stat?e:null);if(t){const e=t.querySelector(".hph-hero__stat-value, .hph-quick-fact__value");if(e&&e.textContent.includes("acres")){const n=parseFloat(e.textContent);if(!isNaN(n)){const e=Math.round(43560*n);t.title=`${n} acres (approximately ${e.toLocaleString()} sq ft)`}}}})}destroy(){this.pauseAutoplay()}}function t(){document.querySelectorAll('.hph-hero[data-component="hero"]').forEach(t=>{t.heroCarousel||new e(t)})}"undefined"!=typeof window&&(window.HeroCarousel=e);class o{constructor(){this.init()}init(){this.enhancePropertyStats(),this.addStatTooltips(),this.initStatAnimations(),this.bindStatInteractions()}enhancePropertyStats(){document.querySelectorAll(".hph-hero__stat, .hph-quick-fact").forEach(e=>{this.enhanceStat(e)})}enhanceStat(e){const t=e.dataset.stat||this.getStatType(e),n=e.querySelector(".hph-hero__stat-value, .hph-quick-fact__value"),o=e.querySelector(".hph-icon, .fas, .far, .fab");n&&(e.classList.add(`hph-stat--${t}`),("lot_size"===t||e.textContent.includes("acres"))&&this.enhanceLotSize(e,n),("sqft"===t||n.textContent.includes("sq ft"))&&this.enhanceSquareFootage(e,n),o&&(o.classList.add("hph-icon-enhanced"),this.enhanceIcon(o,t)))}enhanceLotSize(e,t){const n=t.textContent.trim(),o=this.extractNumber(n);if(o&&o>0){const n=Math.round(43560*o),a=`${o} acres = ${n.toLocaleString()} square feet`;if(e.setAttribute("title",a),e.setAttribute("data-tooltip",a),o<.1){const e=`${n.toLocaleString()} sq ft`;t.innerHTML=`<span class="primary-value">${e}</span><span class="alt-value">(${o} acres)</span>`}else o>=1&&(t.innerHTML=`<span class="primary-value">${o}</span><span class="unit">acres</span>`);e.setAttribute("data-acres",o),e.setAttribute("data-sqft",n)}}enhanceSquareFootage(e,t){const n=t.textContent.trim(),o=this.extractNumber(n);if(o&&o>0){const n=o.toLocaleString();t.innerHTML=`<span class="primary-value">${n}</span><span class="unit">sq ft</span>`,e.setAttribute("data-sqft",o)}}enhanceIcon(e,t){const n={bedrooms:"hph-icon-bed",bathrooms:"hph-icon-bath",sqft:"hph-icon-sqft",lot_size:"hph-icon-lot",year_built:"hph-icon-year",garage:"hph-icon-garage"};n[t]&&e.classList.add(n[t]),e.classList.add("hph-icon-interactive")}addStatTooltips(){document.querySelectorAll("[data-tooltip]").forEach(e=>{this.createTooltip(e)})}createTooltip(e){const t=document.createElement("div");t.className="hph-tooltip",t.textContent=e.getAttribute("data-tooltip"),t.style.cssText="\n            position: absolute;\n            background: rgba(0, 0, 0, 0.9);\n            color: white;\n            padding: 8px 12px;\n            border-radius: 6px;\n            font-size: 12px;\n            white-space: nowrap;\n            z-index: 1000;\n            opacity: 0;\n            transform: translateY(-10px);\n            transition: all 0.2s ease;\n            pointer-events: none;\n            top: -40px;\n            left: 50%;\n            transform: translateX(-50%) translateY(-10px);\n        ",e.style.position="relative",e.appendChild(t),e.addEventListener("mouseenter",()=>{t.style.opacity="1",t.style.transform="translateX(-50%) translateY(0)"}),e.addEventListener("mouseleave",()=>{t.style.opacity="0",t.style.transform="translateX(-50%) translateY(-10px)"})}initStatAnimations(){const e=document.querySelectorAll(".hph-hero__stat, .hph-quick-fact"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("hph-stat--animated"),this.animateStatValue(e.target))})},{threshold:.5});e.forEach(e=>t.observe(e))}animateStatValue(e){const t=e.querySelector(".hph-hero__stat-value, .hph-quick-fact__value");if(!t)return;const n=t.textContent,o=this.extractNumber(n);o&&o>0&&this.countUpAnimation(t,o,n)}countUpAnimation(e,t,n){const o=performance.now();let a=0;const s=r=>{const i=r-o,l=Math.min(i/1e3,1);a=t*this.easeOutQuart(l),n.includes("sq ft")?e.innerHTML=`<span class="primary-value">${Math.round(a).toLocaleString()}</span><span class="unit">sq ft</span>`:n.includes("acres")?e.innerHTML=`<span class="primary-value">${a.toFixed(2)}</span><span class="unit">acres</span>`:e.textContent=Math.round(a).toString(),l<1&&requestAnimationFrame(s)};requestAnimationFrame(s)}easeOutQuart(e){return 1-Math.pow(1-e,4)}bindStatInteractions(){document.querySelectorAll(".hph-hero__stat, .hph-quick-fact").forEach(e=>{e.addEventListener("click",()=>{this.copyStatToClipboard(e)}),e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.setAttribute("aria-label",this.getStatAccessibilityLabel(e)),e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.copyStatToClipboard(e))})})}copyStatToClipboard(e){const t=e.querySelector(".hph-hero__stat-value, .hph-quick-fact__value");if(!t)return;const n=t.textContent.trim();navigator.clipboard&&navigator.clipboard.writeText(n).then(()=>{this.showCopyFeedback(e)})}showCopyFeedback(e){const t=document.createElement("div");t.className="hph-copy-feedback",t.textContent="Copied!",t.style.cssText="\n            position: absolute;\n            top: -30px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: var(--hph-color-success);\n            color: white;\n            padding: 4px 8px;\n            border-radius: 4px;\n            font-size: 12px;\n            z-index: 1001;\n            animation: fadeInOut 1.5s ease;\n        ",e.style.position="relative",e.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},1500)}extractNumber(e){const t=e.match(/[\d,]+\.?\d*/);return t?parseFloat(t[0].replace(/,/g,"")):null}getStatType(e){const t=e.textContent.toLowerCase();return t.includes("bed")?"bedrooms":t.includes("bath")?"bathrooms":t.includes("sq ft")||t.includes("square")?"sqft":t.includes("acres")||t.includes("lot")?"lot_size":t.includes("year")||t.includes("built")?"year_built":t.includes("garage")||t.includes("car")?"garage":"unknown"}getStatAccessibilityLabel(e){const t=this.getStatType(e),n=e.querySelector(".hph-hero__stat-value, .hph-quick-fact__value");if(!n)return"Property statistic";const o=n.textContent.trim();return{bedrooms:`${o} bedrooms`,bathrooms:`${o} bathrooms`,sqft:`${o} square feet`,lot_size:`Lot size: ${o}`,year_built:`Built in ${o}`,garage:`${o} garage spaces`}[t]||`Property detail: ${o}`}}async function a(e){e.preventDefault();const t=e.target,n=new FormData(t),o=t.querySelector('button[type="submit"]');n.append("action","handle_contact_form"),n.append("nonce",window.tpgAjax?.nonce||""),o&&(o.disabled=!0,o.textContent="Sending...");try{const e=await fetch("/wp-admin/admin-ajax.php",{method:"POST",body:n}),o=await e.json();o.success?(d("Thank you! Your message has been sent.","success"),t.reset()):d(o.data?.message||"Something went wrong. Please try again.","error")}catch(e){console.error("Form submission error:",e),d("Something went wrong. Please try again.","error")}o&&(o.disabled=!1,o.textContent="Send Message")}async function s(e){e.preventDefault();const t=e.target,n=new FormData(t),o=t.querySelector('button[type="submit"]');n.append("action","handle_lead_form"),n.append("nonce",window.tpgAjax?.nonce||""),o&&(o.disabled=!0,o.textContent="Submitting...");try{const e=await fetch("/wp-admin/admin-ajax.php",{method:"POST",body:n}),o=await e.json();o.success?(d("Thank you for your interest! We will contact you soon.","success"),t.reset(),window.gtag&&gtag("event","generate_lead",{event_category:"Lead",event_label:"Contact Form",value:1})):d(o.data?.message||"Something went wrong. Please try again.","error")}catch(e){console.error("Lead form submission error:",e),d("Something went wrong. Please try again.","error")}o&&(o.disabled=!1,o.textContent="Get Information")}async function r(e){e.preventDefault();const n=e.target,o=new FormData(n),a=document.querySelector(".search-results");if(a){a.innerHTML='<div class="loading">Searching properties...</div>',o.append("action","search_properties"),o.append("nonce",window.tpgAjax?.nonce||"");try{const e=await fetch("/wp-admin/admin-ajax.php",{method:"POST",body:o}),n=await e.json();if(n.success){a.innerHTML=n.data.html,t();const e=new URL(window.location);for(const[t,n]of o.entries())"action"!==t&&"nonce"!==t&&e.searchParams.set(t,n);window.history.pushState({},"",e)}else a.innerHTML='<div class="no-results">No properties found matching your criteria.</div>'}catch(e){console.error("Property search error:",e),a.innerHTML='<div class="error">Search temporarily unavailable. Please try again.</div>'}}}function i(){const e=document.querySelector(".property-search-form");e&&e.dispatchEvent(new Event("submit"))}function l(e){if(!e)return;e.classList.add("hph-modal--active"),document.body.classList.add("modal-open");const t=e.querySelector('input, button, select, textarea, [tabindex]:not([tabindex="-1"])');t&&setTimeout(()=>t.focus(),100)}function c(e){if(!e)return;e.classList.remove("hph-modal--active"),document.body.classList.remove("modal-open");const t=e.querySelector("form");t&&t.reset()}function d(e,t="info"){const n=document.createElement("div");switch(n.className=`message message-${t}`,n.textContent=e,Object.assign(n.style,{position:"fixed",top:"20px",right:"20px",padding:"12px 20px",borderRadius:"4px",zIndex:"10000",maxWidth:"400px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",fontSize:"14px",fontWeight:"500"}),t){case"success":n.style.backgroundColor="#10b981",n.style.color="white";break;case"error":n.style.backgroundColor="#ef4444",n.style.color="white";break;default:n.style.backgroundColor="#3b82f6",n.style.color="white"}document.body.appendChild(n),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n)},5e3),n.addEventListener("click",()=>{n.parentNode&&n.parentNode.removeChild(n)})}document.addEventListener("DOMContentLoaded",()=>{new o}),n(117),document.addEventListener("DOMContentLoaded",()=>{console.log("TPG Site v3.0.0 loaded"),t(),new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&(t.matches?.('.hph-hero[data-component="hero"]')?[t]:t.querySelectorAll?.('.hph-hero[data-component="hero"]')||[]).forEach(t=>{t.heroCarousel||new e(t)})})})}).observe(document.body,{childList:!0,subtree:!0}),(window.PropertyStats||o)&&new o,function(){document.querySelectorAll('[class*="modal"], [data-modal]'),document.querySelectorAll(".hph-modal");const e=document.querySelectorAll(".hph-contact-agent-modal"),t=document.getElementById("contact-modal");e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("data-agent-id"),o=this.getAttribute("data-agent-name")||"Agent";if(t){const e=t.querySelector(".hph-agent-name"),a=t.querySelector('input[name="agent_id"]');e&&(e.textContent=o),a&&(a.value=n),l(t)}})});const n=document.querySelectorAll(".hph-property-inquiry-modal"),o=document.getElementById("property-inquiry-modal");n.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),o&&l(o)})}),document.querySelectorAll(".hph-modal__close").forEach(e=>{e.addEventListener("click",function(){const e=this.closest(".hph-modal");e&&c(e)})}),document.querySelectorAll(".hph-modal__overlay").forEach(e=>{e.addEventListener("click",function(){const e=this.closest(".hph-modal");e&&c(e)})}),document.addEventListener("keydown",function(e){if("Escape"===e.key){const e=document.querySelector(".hph-modal.hph-modal--active");e&&c(e)}})}(),function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".mobile-menu");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("active"),e.classList.toggle("active")})}(),function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animate-in")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".animate-on-scroll").forEach(t=>{e.observe(t)})}(),document.querySelectorAll(".contact-form").forEach(e=>{e.addEventListener("submit",a)}),document.querySelectorAll(".lead-form").forEach(e=>{e.addEventListener("submit",s)}),function(){const e=document.querySelector(".property-search-form");e&&(e.addEventListener("submit",r),function(){const e=document.querySelector(".price-range-slider");e&&function(e){const t=e.querySelector(".range-min"),n=e.querySelector(".range-max"),o=e.querySelector(".range-display");if(t&&n&&o){function a(){const e=parseInt(t.value),a=parseInt(n.value);o.textContent=`$${e.toLocaleString()} - $${a.toLocaleString()}`}t.addEventListener("input",a),n.addEventListener("input",a),a()}}(e),document.querySelectorAll(".bed-bath-selector").forEach(e=>{e.addEventListener("change",i)}),document.querySelectorAll(".property-type-filter").forEach(e=>{e.addEventListener("change",i)})}())}()})}()}();