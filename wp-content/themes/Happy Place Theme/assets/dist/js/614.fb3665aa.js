(self.webpackChunkhappy_place_theme=self.webpackChunkhappy_place_theme||[]).push([[614],{614:function(){!function(e){"use strict";class a{constructor(){this.modal=null,this.currentIndex=0,this.images=[],this.init()}init(){this.setupGallery(),this.setupModal(),this.bindEvents()}setupGallery(){const a=e(".hph-gallery-grid");a.length&&a.find(".hph-gallery-item").each((a,t)=>{const l=e(t).find("img");l.length&&this.images.push({src:l.data("full")||l.attr("src"),alt:l.attr("alt")||"",thumb:l.attr("src")})})}setupModal(){if(e("#gallery-modal").length)return;e("body").append('\n                <div class="hph-gallery-modal" id="gallery-modal">\n                    <div class="hph-gallery-modal-header">\n                        <h3 class="hph-gallery-modal-title">Property Gallery</h3>\n                        <button class="hph-gallery-modal-close">\n                            <i class="fas fa-times"></i>\n                        </button>\n                    </div>\n                    \n                    <div class="hph-gallery-modal-content">\n                        <div class="hph-gallery-modal-main">\n                            <img src="" alt="" class="hph-gallery-modal-image">\n                            \n                            <button class="hph-gallery-nav hph-gallery-prev">\n                                <i class="fas fa-chevron-left"></i>\n                            </button>\n                            \n                            <button class="hph-gallery-nav hph-gallery-next">\n                                <i class="fas fa-chevron-right"></i>\n                            </button>\n                        </div>\n                        \n                        <div class="hph-gallery-modal-thumbs"></div>\n                    </div>\n                </div>\n            '),this.modal=e("#gallery-modal"),this.generateThumbnails()}generateThumbnails(){const e=this.modal.find(".hph-gallery-modal-thumbs");this.images.forEach((a,t)=>{const l=`\n                    <div class="hph-gallery-thumb" data-index="${t}">\n                        <img src="${a.thumb}" alt="${a.alt}">\n                    </div>\n                `;e.append(l)})}bindEvents(){e(document).on("click",".hph-gallery-item",a=>{a.preventDefault();const t=e(a.currentTarget).index();this.openModal(t)}),e(document).on("click",".hph-gallery-more",e=>{e.preventDefault(),this.openModal(0)}),e(document).on("click",".hph-gallery-modal-close",()=>{this.closeModal()}),e(document).on("click",".hph-gallery-modal",e=>{e.target===e.currentTarget&&this.closeModal()}),e(document).on("click",".hph-gallery-prev",()=>{this.prevImage()}),e(document).on("click",".hph-gallery-next",()=>{this.nextImage()}),e(document).on("click",".hph-gallery-thumb",a=>{const t=parseInt(e(a.currentTarget).data("index"));this.showImage(t)}),e(document).on("keydown",e=>{if(this.modal&&this.modal.hasClass("active"))switch(e.keyCode){case 27:this.closeModal();break;case 37:this.prevImage();break;case 39:this.nextImage()}})}openModal(a=0){this.modal&&this.images.length&&(this.currentIndex=a,this.modal.addClass("active"),this.showImage(a),e("body").addClass("modal-open"))}closeModal(){this.modal&&(this.modal.removeClass("active"),e("body").removeClass("modal-open"))}showImage(e){if(e<0||e>=this.images.length)return;this.currentIndex=e;const a=this.images[e];this.modal.find(".hph-gallery-modal-image").attr("src",a.src).attr("alt",a.alt),this.modal.find(".hph-gallery-thumb").removeClass("active"),this.modal.find(`.hph-gallery-thumb[data-index="${e}"]`).addClass("active"),this.modal.find(".hph-gallery-prev").toggle(e>0),this.modal.find(".hph-gallery-next").toggle(e<this.images.length-1)}prevImage(){this.currentIndex>0&&this.showImage(this.currentIndex-1)}nextImage(){this.currentIndex<this.images.length-1&&this.showImage(this.currentIndex+1)}}e(document).ready(()=>{new a})}(jQuery)}}]);