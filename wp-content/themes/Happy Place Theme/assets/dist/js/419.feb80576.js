(self.webpackChunkhappy_place_theme=self.webpackChunkhappy_place_theme||[]).push([[419],{419:function(){!function(t){"use strict";class e{constructor(){this.initializeFilterToggles(),this.initializeButtonGroups(),this.restoreFilterStates()}initializeFilterToggles(){t(".hph-filter-section .hph-filter-toggle").on("click",e=>{const i=t(e.currentTarget),a=i.closest(".hph-filter-section"),r=a.find(".hph-filter-content"),s="true"===i.attr("aria-expanded");i.attr("aria-expanded",!s),r.attr("aria-hidden",s),a.toggleClass("is-expanded"),this.saveFilterState(a.data("section"),!s)}),t(".hph-filter-btn").on("click",function(){const e=t(this),i=e.closest(".hph-filter-row");i.find(".hph-filter-btn").removeClass("active"),e.addClass("active"),i.find('input[type="hidden"]').val(e.data("value"))}),t(".hph-filter-toggle").on("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t(e.currentTarget).click())})}initializeButtonGroups(){t(".hph-price-select").on("change",()=>{this.submitForm()}),t(".hph-filter-checkbox input").on("change",()=>{this.submitForm()})}submitForm(){const e=t(".hph-listing-filters-form");e.length&&e.submit()}saveFilterState(t,e){if(t)try{const i=JSON.parse(localStorage.getItem("hphFilterStates")||"{}");i[t]=e,localStorage.setItem("hphFilterStates",JSON.stringify(i))}catch(t){console.warn("Failed to save filter state:",t)}}restoreFilterStates(){try{const e=JSON.parse(localStorage.getItem("hphFilterStates")||"{}");Object.entries(e).forEach(([e,i])=>{const a=t(`.hph-filter-section[data-section="${e}"]`);if(a.length){const t=a.find(".hph-filter-toggle"),e=a.find(".hph-filter-content");t.attr("aria-expanded",i),e.attr("aria-hidden",!i),a.toggleClass("is-expanded",i)}})}catch(t){console.warn("Failed to restore filter states:",t)}}saveFilterState(t,e){if(t)try{const i=JSON.parse(localStorage.getItem("hphFilterStates")||"{}");i[t]=e,localStorage.setItem("hphFilterStates",JSON.stringify(i))}catch(t){console.warn("Failed to save filter state:",t)}}restoreFilterStates(){try{const e=JSON.parse(localStorage.getItem("hphFilterStates")||"{}");Object.entries(e).forEach(([e,i])=>{const a=t(`#${e}`);if(a.length){const t=a.find(".filter-header"),e=a.find(".filter-content");t.attr("aria-expanded",i),e.attr("aria-hidden",!i),a.toggleClass("is-expanded",i)}})}catch(t){console.warn("Failed to restore filter states:",t)}}}t(document).ready(()=>{new e})}(jQuery)}}]);