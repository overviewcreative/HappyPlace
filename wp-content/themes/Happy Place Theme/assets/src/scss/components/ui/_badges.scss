/**
 * Happy Place Theme - UI Badges Component
 * 
 * Badge components for status, labels, and indicators
 */

.hph-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--hph-spacing-1) var(--hph-spacing-3);
    font-size: var(--hph-font-size-xs);
    font-weight: var(--font-weight-semibold);
    line-height: 1;
    border-radius: var(--hph-border-radius-xl);
    text-transform: uppercase;
    letter-spacing: 0.025em;
    
    // Variants
    &.badge-primary {
        background: var(--color-primary);
        color: var(--color-white);
    }
    
    &.badge-secondary {
        background: var(--color-text-light);
        color: var(--color-white);
    }
    
    &.badge-success {
        background: var(--color-success);
        color: var(--color-white);
    }
    
    &.badge-warning {
        background: var(--color-warning);
        color: var(--color-white);
    }
    
    &.badge-danger {
        background: var(--color-danger);
        color: var(--color-white);
    }
    
    &.badge-info {
        background: var(--color-info);
        color: var(--color-white);
    }
    
    // Light variants
    &.badge-primary-light {
        background: var(--color-primary-light);
        color: var(--color-primary-dark);
    }
    
    &.badge-success-light {
        background: var(--color-success-light);
        color: var(--color-success-dark);
    }
    
    &.badge-warning-light {
        background: var(--color-warning-light);
        color: var(--color-warning-dark);
    }
    
    &.badge-danger-light {
        background: var(--color-danger-light);
        color: var(--color-danger-dark);
    }
    
    &.badge-info-light {
        background: var(--color-info-light);
        color: var(--color-info-dark);
    }
    
    // Outline variants
    &.badge-outline {
        background: transparent;
        border: 1px solid var(--color-border);
        color: var(--color-text);
    }
    
    &.badge-outline-primary {
        background: transparent;
        border: 1px solid var(--color-primary);
        color: var(--color-primary);
    }
    
    // Sizes
    &.badge-xs {
        padding: var(--hph-spacing-1) var(--hph-spacing-2);
        font-size: 0.625rem;
    }
    
    &.badge-sm {
        padding: var(--hph-spacing-1) var(--hph-spacing-3);
        font-size: var(--hph-font-size-xs);
    }
    
    &.badge-lg {
        padding: var(--hph-spacing-2) var(--hph-spacing-4);
        font-size: var(--hph-font-size-sm);
    }
    
    &.badge-xl {
        padding: var(--hph-spacing-3) var(--hph-spacing-5);
        font-size: var(--hph-font-size-md);
    }
    
    // Shapes
    &.badge-rounded {
        border-radius: var(--hph-border-radius-full);
    }
    
    &.badge-square {
        border-radius: var(--hph-border-radius-sm);
    }
    
    // Special variants
    &.badge-dot {
        width: 0.5rem;
        height: 0.5rem;
        padding: 0;
        border-radius: var(--hph-border-radius-full);
        
        &.badge-dot-lg {
            width: 0.75rem;
            height: 0.75rem;
        }
    }
    
    &.badge-pill {
        border-radius: var(--hph-border-radius-full);
        padding: var(--hph-spacing-2) var(--hph-spacing-4);
    }
    
    &.badge-closable {
        padding-right: var(--hph-spacing-2);
        
        .badge-close {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 1rem;
            height: 1rem;
            margin-left: var(--hph-spacing-2);
            background: rgba(0, 0, 0, 0.1);
            border-radius: var(--hph-border-radius-full);
            cursor: pointer;
            transition: var(--transition-fast);
            
            &:hover {
                background: rgba(0, 0, 0, 0.2);
            }
            
            i {
                font-size: 0.6rem;
            }
        }
    }
    
    // Icons
    i {
        margin-right: var(--hph-spacing-1);
        font-size: 0.8em;
        
        &:last-child {
            margin-right: 0;
            margin-left: var(--hph-spacing-1);
        }
        
        &:only-child {
            margin: 0;
        }
    }
    
    // Animations
    &.badge-pulse {
        animation: pulse 2s infinite;
    }
    
    &.badge-bounce {
        animation: bounce 1s infinite;
    }
    
    // States
    &.badge-loading {
        position: relative;
        color: transparent;
        
        &::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0.75rem;
            height: 0.75rem;
            margin: -0.375rem 0 0 -0.375rem;
            border: 1px solid transparent;
            border-top-color: currentColor;
            border-radius: var(--hph-border-radius-full);
            animation: spin 1s linear infinite;
        }
    }
}

// Badge Groups
.badge-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--hph-spacing-2);
    
    &.badge-group-stacked {
        flex-direction: column;
        align-items: flex-start;
    }
    
    &.badge-group-connected {
        gap: 0;
        
        .hph-badge {
            border-radius: 0;
            border-right-width: 0;
            
            &:first-child {
                border-top-left-radius: var(--hph-border-radius-lg);
                border-bottom-left-radius: var(--hph-border-radius-lg);
            }
            
            &:last-child {
                border-top-right-radius: var(--hph-border-radius-lg);
                border-bottom-right-radius: var(--hph-border-radius-lg);
                border-right-width: 1px;
            }
        }
    }
}

// Property Specific Badges
.property-badge {
    &.featured-badge {
        background: linear-gradient(135deg, var(--color-warning), var(--color-warning-dark));
        color: var(--color-white);
        
        i {
            animation: sparkle 2s ease-in-out infinite;
        }
    }
    
    &.new-badge {
        background: var(--color-success);
        color: var(--color-white);
        position: relative;
        overflow: hidden;
        
        &::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            animation: shine 3s infinite;
        }
    }
    
    &.price-reduced-badge {
        background: var(--color-danger);
        color: var(--color-white);
        animation: attention 1s ease-in-out 3;
    }
    
    &.coming-soon-badge {
        background: var(--color-info);
        color: var(--color-white);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    
    &.sold-badge {
        background: var(--color-text-light);
        color: var(--color-white);
        text-decoration: line-through;
        opacity: 0.8;
    }
}

// Status Badge with dot indicator
.status-badge {
    display: flex;
    align-items: center;
    gap: var(--hph-spacing-2);
    
    .status-dot {
        width: 0.5rem;
        height: 0.5rem;
        border-radius: var(--hph-border-radius-full);
        
        &.status-active {
            background: var(--color-success);
            animation: pulse 2s infinite;
        }
        
        &.status-pending {
            background: var(--color-warning);
        }
        
        &.status-inactive {
            background: var(--color-text-light);
        }
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

@keyframes bounce {
    0%, 20%, 53%, 80%, 100% {
        transform: translateY(0);
    }
    40%, 43% {
        transform: translateY(-8px);
    }
    70% {
        transform: translateY(-4px);
    }
    90% {
        transform: translateY(-2px);
    }
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes sparkle {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

@keyframes shine {
    0% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
    }
    100% {
        transform: translateX(100%) translateY(100%) rotate(45deg);
    }
}

@keyframes attention {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}
