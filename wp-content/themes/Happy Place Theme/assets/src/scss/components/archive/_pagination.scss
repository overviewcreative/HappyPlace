/**
 * Happy Place Theme - Archive Pagination Component
 * 
 * Pagination for listing archives
 */

.hph-pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: var(--hph-spacing-8) 0;
    
    .pagination-list {
        display: flex;
        align-items: center;
        gap: var(--hph-spacing-2);
        list-style: none;
        margin: 0;
        padding: 0;
        
        .page-item {
            .page-link {
                display: flex;
                align-items: center;
                justify-content: center;
                min-width: 2.5rem;
                height: 2.5rem;
                padding: 0 var(--hph-spacing-3);
                background: var(--color-white);
                color: var(--color-text);
                border: 1px solid var(--color-border);
                border-radius: var(--hph-border-radius-lg);
                text-decoration: none;
                font-weight: var(--font-weight-medium);
                transition: var(--transition-all);
                
                &:hover {
                    background: var(--color-primary-light);
                    color: var(--color-primary-dark);
                    border-color: var(--color-primary);
                    transform: translateY(-1px);
                }
            }
            
            &.active .page-link {
                background: var(--color-primary);
                color: var(--color-white);
                border-color: var(--color-primary);
                cursor: default;
                
                &:hover {
                    transform: none;
                }
            }
            
            &.disabled .page-link {
                background: var(--color-surface);
                color: var(--color-text-light);
                border-color: var(--color-border-light);
                cursor: not-allowed;
                
                &:hover {
                    transform: none;
                    background: var(--color-surface);
                    color: var(--color-text-light);
                    border-color: var(--color-border-light);
                }
            }
            
            // Navigation Buttons
            &.prev,
            &.next {
                .page-link {
                    padding: 0 var(--hph-spacing-4);
                    font-weight: var(--font-weight-semibold);
                    
                    i {
                        font-size: var(--hph-font-size-sm);
                    }
                }
            }
            
            &.prev .page-link i {
                margin-right: var(--hph-spacing-2);
            }
            
            &.next .page-link i {
                margin-left: var(--hph-spacing-2);
            }
            
            // Dots
            &.dots {
                .page-link {
                    background: none;
                    border: none;
                    color: var(--color-text-muted);
                    cursor: default;
                    
                    &:hover {
                        background: none;
                        transform: none;
                    }
                }
            }
        }
    }
    
    // Compact Pagination
    &.pagination-compact {
        .pagination-list {
            gap: var(--hph-spacing-1);
            
            .page-item .page-link {
                min-width: 2rem;
                height: 2rem;
                font-size: var(--hph-font-size-sm);
            }
        }
    }
    
    // Large Pagination
    &.pagination-large {
        .pagination-list {
            gap: var(--hph-spacing-3);
            
            .page-item .page-link {
                min-width: 3rem;
                height: 3rem;
                font-size: var(--hph-font-size-lg);
            }
        }
    }
    
    // Simple Pagination (Prev/Next only)
    &.pagination-simple {
        justify-content: space-between;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        
        .pagination-list {
            width: 100%;
            justify-content: space-between;
            
            .page-item {
                &:not(.prev, .next) {
                    display: none;
                }
                
                &.prev,
                &.next {
                    .page-link {
                        padding: var(--hph-spacing-4) var(--hph-spacing-6);
                        background: var(--color-surface);
                        border: 1px solid var(--color-border);
                        border-radius: var(--hph-border-radius-xl);
                        
                        .page-text {
                            @include respond-below('sm') {
                                display: none;
                            }
                        }
                    }
                }
            }
        }
    }
    
    // Pagination Info
    .pagination-info {
        display: flex;
        justify-content: center;
        margin-top: var(--hph-spacing-4);
        font-size: var(--hph-font-size-sm);
        color: var(--color-text-muted);
        
        .info-text {
            text-align: center;
            
            .info-numbers {
                font-weight: var(--font-weight-semibold);
                color: var(--color-text);
            }
        }
    }
    
    // Load More Button
    .load-more-pagination {
        text-align: center;
        
        .load-more-btn {
            @include button-outline;
            padding: var(--hph-spacing-4) var(--hph-spacing-8);
            font-weight: var(--font-weight-semibold);
            
            &.loading {
                position: relative;
                color: transparent;
                
                &::after {
                    content: '';
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    width: 1rem;
                    height: 1rem;
                    margin: -0.5rem 0 0 -0.5rem;
                    border: 2px solid var(--color-border-light);
                    border-top-color: var(--color-primary);
                    border-radius: var(--hph-border-radius-full);
                    animation: spin 1s linear infinite;
                }
            }
        }
        
        .load-more-info {
            margin-top: var(--hph-spacing-3);
            font-size: var(--hph-font-size-sm);
            color: var(--color-text-muted);
        }
    }
    
    // Mobile Responsive
    @include respond-below('md') {
        .pagination-list {
            gap: var(--hph-spacing-1);
            
            .page-item {
                // Hide middle pages on mobile, keep first, last, current and adjacent
                &:not(.prev, .next, .active, .dots) {
                    display: none;
                    
                    &.adjacent {
                        display: block;
                    }
                }
                
                .page-link {
                    min-width: 2.25rem;
                    height: 2.25rem;
                    font-size: var(--hph-font-size-sm);
                }
            }
        }
        
        &.pagination-simple {
            .pagination-list .page-item {
                &.prev,
                &.next {
                    .page-link {
                        padding: var(--hph-spacing-3) var(--hph-spacing-4);
                        font-size: var(--hph-font-size-sm);
                    }
                }
            }
        }
    }
    
    // Ajax Loading State
    &.ajax-loading {
        opacity: 0.6;
        pointer-events: none;
        
        .pagination-list {
            position: relative;
            
            &::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                width: 1.5rem;
                height: 1.5rem;
                margin: -0.75rem 0 0 -0.75rem;
                border: 2px solid var(--color-border-light);
                border-top-color: var(--color-primary);
                border-radius: var(--hph-border-radius-full);
                animation: spin 1s linear infinite;
            }
        }
    }
}

// Infinite Scroll Pagination
.infinite-scroll-pagination {
    .scroll-trigger {
        height: 100px;
        margin: var(--hph-spacing-8) 0;
        display: flex;
        align-items: center;
        justify-content: center;
        
        &.loading {
            .scroll-spinner {
                width: 2rem;
                height: 2rem;
                border: 3px solid var(--color-border-light);
                border-top-color: var(--color-primary);
                border-radius: var(--hph-border-radius-full);
                animation: spin 1s linear infinite;
            }
        }
        
        &.end-of-results {
            .end-message {
                text-align: center;
                color: var(--color-text-muted);
                font-style: italic;
                
                &::before,
                &::after {
                    content: '';
                    display: inline-block;
                    width: 50px;
                    height: 1px;
                    background: var(--color-border-light);
                    margin: 0 var(--hph-spacing-4);
                    vertical-align: middle;
                }
            }
        }
    }
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
